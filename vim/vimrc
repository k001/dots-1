" vim: nocp fen fdm=marker fdl=0 tw=78 cc=78 noet

if &compatible
	set nocompatible
endif

set exrc
set secure
set modeline
set noswapfile
set nobackup
set hidden
set lazyredraw
set backspace=indent,eol,start
set mouse=nvi

if has('termguicolors')
	set notermguicolors
endif

filetype plugin indent on
syntax enable

" Persistent undo {{{
set undofile
if empty(glob(expand("%:p:h")))
	call mkdir($HOME . ".vim/undo", "p")
endif
set undodir=~/.vim/undo
" }}}

" Key maps {{{
" Don't use arrow keys:
noremap <Up> <NOP>
noremap <Down> <NOP>
noremap <Left> <NOP>
noremap <Right> <NOP>
" Number toggle:
nnoremap <silent> <Leader>n :set number!<CR>
nnoremap <Leader>b :ls<cr>:b<space>
" Don't use Ex mode, use Q for formatting:
map Q gq
" Switch to last buffer:
nnoremap <bs> <c-^>
" Tab navigation
nmap > gt
nmap < gT
" Toggle number
nnoremap <silent> <Leader>n :set number!<CR>
nnoremap <silent> <Leader>N :set relativenumber!<CR>
" Indent whole file
nnoremap <Leader>= gg=G
" Copy whole file
nnoremap <Leader>y ggyG
" }}}

" Splits {{{
set splitbelow
set splitright
" }}}

" Tabs {{{
set noexpandtab
set shiftround
set shiftwidth=4
set smarttab
set softtabstop=4
set tabstop=4
" }}}

" Indentation {{{
set autoindent
set copyindent
set preserveindent
set linebreak
set nowrap
" }}}

" Search {{{
set hlsearch
set ignorecase
set incsearch
set showmatch
set smartcase
" }}}

" Folds {{{
set foldcolumn=0
set foldenable
set foldlevel=1
set foldmethod=indent
" }}}

" Wildmenu {{{
set path+=**
set wildmenu
set wildmode=full
set wildignore+=*.png,*.jpg,*.jpeg,*.gif
set wildignore+=__init__.py,*.pyc
" }}}

" Misc {{{
set formatoptions-=cro
set iskeyword+=-
set shortmess=aI
set showtabline=1
" }}}
